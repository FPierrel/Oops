<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"          
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"> 
    <h:head>
        <title>Oops | Page d'inscription</title>
        <link href='https://fonts.googleapis.com/css?family=Kavoon' rel='stylesheet' type='text/css'/>
        <link href="style/style2.css" rel="stylesheet" type="text/css" />
    </h:head>
    <h:body> 
        <ui:include src="header.xhtml"/>
        <ui:include src="search.xhtml"/>
        <div id="featured-wrapper">
            <div id="content">
                <div id="featured" class="container">
                <h1>Inscrivez-vous !</h1>
                <h:form id="form_signin">
                    <h:panelGroup id="inputs">
                        <p:selectOneRadio value="#{registrationBean.user}"  >
                            <f:selectItem itemValue="Soumissionnaire" itemLabel="Soumissionnaire"/>
                            <f:selectItem itemValue="Prestataire" itemLabel="Prestataire"/>
                            <f:ajax render="inputs"/>
                        </p:selectOneRadio>
                        <table><tr><td>
                                    <h:panelGrid id="grid" columns="3" cellpadding="5">
                                        <p:outputLabel for="login" value="Login :"/> 
                                        <p:inputText value="#{registrationBean.login}" 
                                                     id="login" binding="#{registrationBean.loginComponent}" 
                                                     required="true" requiredMessage="Veuillez renseigner un login !">             
                                        </p:inputText>
                                        <p:message for="login"/>
                                        <p:outputLabel for="password" value="Mot de passe :"/> 
                                        <p:password value="#{registrationBean.password}"
                                                    id="password" binding="#{registrationBean.passwordComponent}" 
                                                    required="true" requiredMessage="Veuillez renseigner un mot de passe !">             
                                        </p:password>
                                        <p:message for="password"/>
                                        <p:outputLabel for="confirmPassword" value="Confirmation du mot de passe :"/> 
                                        <p:password value="#{registrationBean.confirmPassword}" 
                                                    id="confirmPassword" binding="#{registrationBean.confirmPasswordComponent}" 
                                                    required="true" requiredMessage="Veuillez confirmer votre mot de passe !">             
                                        </p:password>
                                        <p:message for="confirmPassword"/>
                                        <p:outputLabel for="email" value="Adresse mail :"/>
                                        <p:inputText value="#{registrationBean.email}" 
                                                     id="email" binding="#{registrationBean.emailComponent}" 
                                                     required="true" requiredMessage="Veuillez renseigner votre adresse mail !">             
                                        </p:inputText>
                                        <p:message for="email"/>
                                        <p:outputLabel for="companyName" rendered="#{registrationBean.prestataire}" value="Nom du Prestataire :"/> 
                                        <p:inputText value="#{registrationBean.companyName}" binding="#{registrationBean.companyNameComponent}" 
                                                     id="companyName" required="#{registrationBean.prestataire}"
                                                     rendered="#{registrationBean.prestataire}" requiredMessage="Veuillez renseigner votre nom de prestataire !">             
                                        </p:inputText>
                                        <p:message rendered="#{registrationBean.prestataire}" for="companyName"/>
                                        <p:outputLabel for="nbEmployee" rendered="#{registrationBean.prestataire}" value="Nombre d'employé(s) :"/> 
                                        <p:inputText value="#{registrationBean.employee}" binding="#{registrationBean.employeeComponent}" 
                                                     id="nbEmployee" rendered="#{registrationBean.prestataire}" converterMessage="Le nombre d'employé(s) doit être un nombre !">             
                                            <f:convertNumber type="number" integerOnly="true" />
                                        </p:inputText>
                                        <p:message rendered="#{registrationBean.prestataire}" for="nbEmployee"/>
                                        <p:outputLabel for="turnoverNumber" rendered="#{registrationBean.prestataire}" value="Chiffre d'affaire :"/> 
                                        <p:inputText value="#{registrationBean.turnover}" binding="#{registrationBean.turnoverComponent}" 
                                                     id="turnoverNumber" rendered="#{registrationBean.prestataire}" converterMessage="Le chiffre d'affaire doit être un nombre !">             
                                            <f:convertNumber type="number" integerOnly="true"/>
                                        </p:inputText>
                                        <p:message rendered="#{registrationBean.prestataire}" for="turnoverNumber"/>
                                        <p:outputLabel for="lastname" value="Nom :"/>
                                        <p:inputText value="#{registrationBean.lastname}" 
                                                     id="lastname" binding="#{registrationBean.lastnameComponent}" 
                                                     required="#{registrationBean.soumissionnaire}" requiredMessage="Veuillez renseigner votre nom !">             
                                        </p:inputText>
                                        <p:message for="lastname"/>
                                        <p:outputLabel for="firstname" value="Prénom :"/> 
                                        <p:inputText value="#{registrationBean.firstname}" 
                                                     id="firstname" binding="#{registrationBean.firstnameComponent}" 
                                                     required="#{registrationBean.soumissionnaire}" requiredMessage="Veuillez renseigner votre prénom !">             
                                        </p:inputText>
                                        <p:message for="firstname"/>
                                        <p:outputLabel for="phone" value="Téléphone :"/> 
                                        <p:inputText value="#{registrationBean.phone}" 
                                                     id="phone" binding="#{registrationBean.phoneComponent}" 
                                                     required="#{registrationBean.prestataire}" requiredMessage="Veuillez renseigner votre numéro de téléphone !">             
                                        </p:inputText>
                                        <p:message for="phone"/>
                                        <h:commandButton class="button" id="register" value="S'inscrire" 
                                                         action="#{registrationBean.registration()}"/>
                                    </h:panelGrid>
                                </td><td>
                                    <h:panelGrid id="grid2" columns="3" cellpadding="5">
                                        <p:outputLabel for="number" value="Numéro :"/> 
                                        <p:inputText value="#{registrationBean.number}" 
                                                     id="number" binding="#{registrationBean.numberComponent}"
                                                     required="#{registrationBean.prestataire}" requiredMessage="Veuillez renseigner votre numéro de rue !">             
                                        </p:inputText>
                                        <p:message for="number"/>
                                        <p:outputLabel for="street" value="Rue :"/> 
                                        <p:inputText value="#{registrationBean.street}" 
                                                     id="street" binding="#{registrationBean.streetComponent}"
                                                     required="#{registrationBean.prestataire}" requiredMessage="Veuillez renseigner votre rue !">             
                                        </p:inputText>
                                        <p:message for="street"/>
                                        <p:outputLabel for="complement" value="Complément :"/> 
                                        <p:inputText value="#{registrationBean.complement}" 
                                                     id="complement" binding="#{registrationBean.complementComponent}">             
                                        </p:inputText>
                                        <p:message for="complement"/>
                                        <p:outputLabel for="code" value="Code Postal :"/> 
                                        <p:inputText value="#{registrationBean.code}" 
                                                     id="code" binding="#{registrationBean.codeComponent}"
                                                     required="true" requiredMessage="Veuillez renseigner votre code postal !">             
                                        </p:inputText>
                                        <p:message for="code"/>
                                        <p:outputLabel for="town" value="Ville :"/> 
                                        <p:inputText value="#{registrationBean.town}" 
                                                     id="town" binding="#{registrationBean.townComponent}"
                                                     required="true" requiredMessage="Veuillez renseigner votre ville !">             
                                        </p:inputText>
                                        <p:message for="town"/>
                                        <p:outputLabel for="country" value="Pays :"/> 
                                        <p:inputText value="#{registrationBean.country}" 
                                                     id="country" binding="#{registrationBean.countryComponent}"
                                                     required="true" requiredMessage="Veuillez renseigner votre pays !">             
                                        </p:inputText>
                                        <p:message for="country"/>
                                    </h:panelGrid></td></tr></table>
                    </h:panelGroup>
                </h:form>
                </div></div></div>
        <ui:include src="footer.xhtml"/>
    </h:body>
</html>

