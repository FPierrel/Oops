<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <f:metadata>
        <f:viewAction action="#{editFicheBean.init(request.remoteUser)}" />
    </f:metadata>
    <h:head>
        <title>Oops | Modifier la fiche</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href='https://fonts.googleapis.com/css?family=Kavoon' rel='stylesheet' type='text/css'/>
        <link href="style/style2.css" rel="stylesheet" type="text/css" />
    </h:head>
    <h:body>
        <ui:include src="header.xhtml"/>
        <ui:include src="search.xhtml"/>
        <div id="featured-wrapper">
            <div id ="content">
                <div id="featured" class="container">
                    <p:messages/>
                    <h:form id="ficheForm">
                        <h:panelGrid id="grid" columns="3" cellpadding="5">
                            <h:outputLabel for="companyName" value="Nom de l'entreprise : "/>
                            <h:inputText id="companyName" binding="#{editFicheBean.companyNameComponent}" value="#{editFicheBean.companyName}"/>
                            <p:message for="companyName" />
                            <h:outputLabel for="website" value="Site Web : "/>
                            <h:inputText id="website" binding="#{editFicheBean.websiteComponent}" value="#{editFicheBean.website}"/>
                            <p:message for="website" />
                            <h:outputLabel for="nbEmployee" value="Nombre d'employé(s) : "/>
                            <h:inputText id="nbEmployee" binding="#{editFicheBean.nbEmployeeComponent}" value="#{editFicheBean.nbEmployee}"/>
                            <p:message for="nbEmployee" />
                            <h:outputLabel for="turnoverNumber" value="Chiffre d'affaire : "/>
                            <h:inputText id="turnoverNumber" binding="#{editFicheBean.turnoverNumberComponent}" value="#{editFicheBean.turnover}"/>
                            <p:message for="turnoverNumber" />
                            <h:outputLabel for="allCategories" value="Catégories : "/>
                            <p:selectManyMenu id="allCategories" value="#{editFicheBean.categories}" filter="true" showCheckbox="true"> 
                                <f:selectItems value="#{editFicheBean.allCategories}"/>
                            </p:selectManyMenu>
                            <h:outputLabel/>
                            <h:outputLabel for="description" value="Description : "/>
                            <h:inputTextarea id="description" binding="#{editFicheBean.descriptionComponent}" value="#{editFicheBean.description}" cols="30" rows="10"/>
                            <p:message for="description" />
                            <h:outputLabel /><h:outputLabel /><h:outputLabel />
                            <h:panelGroup>
                                <h:button id="cancel" value="Annuler" outcome="index"/>
                                <h:commandButton id="save" value="Enregistrer" action="#{editFicheBean.update()}"/>
                            </h:panelGroup>
                            <h:outputLabel /><h:outputLabel />
                        </h:panelGrid>
                    </h:form>
                </div>
            </div>
        </div>
        <ui:include src="footer.xhtml"/>
    </h:body>
</html>

