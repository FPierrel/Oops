<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <div id="banner-wrapper">
        <center>
            <h:form id="searchForm">
                <h:panelGrid id="simple_search" columns ="3" >
                    <p:inputText  id="quoi" placeholder="Quoi ?" value="#{searchBean.quoi}"/>
                    <p:autoComplete id="ou" forceSelection="true" placeholder="Où ?" value="#{searchBean.choix}" completeMethod="#{searchBean.searchTown}" maxResults="5"/>
                    <p:commandButton class="button" id="go" value="Rechercher" action="#{searchBean.search()}" update="advanced_search"/>
                    <h:panelGroup>
                        <h:outputLabel value="Recherche avancée : "/>
                        <p:selectBooleanCheckbox id="advanced_checkbox" value="#{searchBean.advanced}">
                            <f:ajax render="searchForm"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGroup>
                </h:panelGrid>

                <h:panelGrid  id="advanced_search" columns="5" cellpadding="5"  rendered="#{searchBean.advanced}">
                    <!-- -->
                    <h:outputLabel value = "Nom : " rendered="#{searchBean.advanced}"/>                    
                    <p:inputText value="#{searchBean.lastnameSearch}" id="lastnameSearch" rendered="#{searchBean.advanced}"/>
                    <h:message for="lastnameSearch"></h:message>

                    <h:selectOneMenu id="categorie" value="#{searchBean.categorie}" required = "true" rendered="#{searchBean.advanced}"> 
                        <f:selectItems value="#{searchBean.categories}"/>
                    </h:selectOneMenu>
                    <p:outputLabel/>

                    <!-- -->
                    <h:outputLabel value = "Prénom : " rendered="#{searchBean.advanced}"/>
                    <p:inputText value="#{searchBean.firstnameSearch}" id="firstnameSearch" rendered="#{searchBean.advanced}"/>
                    <h:message for="firstnameSearch"></h:message>
                    <h:outputText value="Communication : " rendered="#{searchBean.advanced}"/>
                    <p:rating value="#{searchBean.communication}" rendered="#{searchBean.advanced}"/>

                    <!-- -->
                    <h:outputLabel value = "Nombre d'employés minimum : " rendered="#{searchBean.advanced}"/>
                    <p:inputText value="#{searchBean.employeeSearch}" id="employeeSearch" rendered="#{searchBean.advanced}" converterMessage="Le nombre d'employés doit être un nombre !">
                        <f:convertNumber type="number" integerOnly="true" />
                    </p:inputText>
                    <h:message for="employeeSearch"></h:message>
                    <h:outputText value="Qualité : " rendered="#{searchBean.advanced}"/>
                    <p:rating value="#{searchBean.quality}" rendered="#{searchBean.advanced}"/>

                    <!-- -->
                    <h:outputLabel value = "Raison sociale : " rendered="#{searchBean.advanced}"/>
                    <p:inputText value="#{searchBean.raisonSocialeSearch}" id="raisonSocialeSearch" rendered="#{searchBean.advanced}"/>
                    <h:message for="raisonSocialeSearch"></h:message>
                    <h:outputText value="Prix : " rendered="#{searchBean.advanced}"/>
                    <p:rating value="#{searchBean.price}" rendered="#{searchBean.advanced}"/>

                    <!-- -->
                    <h:outputLabel value = "Forme juridique : " rendered="#{searchBean.advanced}"/>
                    <p:inputText  value="#{searchBean.formeJuridiqueSearch}" id="formeJuridiqueSearch" rendered="#{searchBean.advanced}"/>
                    <h:message for="formeJuridiqueSearch"></h:message>
                    <h:outputText value="Délai : " rendered="#{searchBean.advanced}"/>
                    <p:rating value="#{searchBean.delay}" rendered="#{searchBean.advanced}"/>

                    <!-- -->
                    <h:outputLabel value = "Chiffre d'affaire minimum : " rendered="#{searchBean.advanced}"/>
                    <p:inputText  value="#{searchBean.chiffreAffaireSearch}" id="chiffreAffaireSearch" rendered="#{searchBean.advanced}" converterMessage="Le chiffre d'affaire doit être un nombre !">
                        <f:convertNumber type="number" integerOnly="true" />
                    </p:inputText>
                    <h:message for="chiffreAffaireSearch"></h:message>
                    <h:outputText value="Moyenne : " rendered="#{searchBean.advanced}"/>
                    <p:rating value="#{searchBean.moyenne}" rendered="#{searchBean.advanced}"/>
                </h:panelGrid>
            </h:form>
        </center>
    </div>
</ui:composition>

